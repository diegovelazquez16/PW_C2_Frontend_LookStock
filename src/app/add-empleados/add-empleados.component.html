<div class="container">
  <div class="header">
    <img src="assets/Imgs/Logo AR.jpeg" alt="Logo" class="logo">
    <h1>{{ title }}</h1>
    <img src="assets/Imgs/Logo AR.jpeg" alt="Logo" class="logo">
  </div>

  <div class="form-container" *ngIf="!empleado.id_empleado">
    <h2>Añadir un nuevo empleado</h2>
    <form (submit)="onSubmit()">
      <div class="form-group">
        <label for="nombres">Nombre(s)</label>
        <input type="text" id="nombres" [(ngModel)]="empleado.nombres" name="nombres" required>
      </div>
      
      <div class="form-group">
        <label for="apellidos">Apellidos</label>
        <input type="text" id="apellidos" [(ngModel)]="empleado.apellidos" name="apellidos" required>
      </div>

      <div class="form-group">
        <label for="direccion">Dirección</label>
        <input type="text" id="direccion" [(ngModel)]="empleado.direccion" name="direccion">
      </div>

      <div class="form-group">
        <label for="telefono">Teléfono</label>
        <input type="text" id="telefono" [(ngModel)]="empleado.telefono" name="telefono" required>
      </div>

      <div class="form-group">
        <label for="salario">Salario</label>
        <input type="number" id="salario" [(ngModel)]="empleado.salario" name="salario" required>
      </div>
      <div class="form-group">
        <label for="fechaContratacion">Fecha Contratación:</label>
        <input type="date" id="fechaContratacion" [(ngModel)]="empleado.fechaContratacion" name="fechaContratacion" required>
      </div>
      <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
  </div>

  <div class="form-container" *ngIf="empleado.id_empleado">
    <h2>Editar empleado</h2>
    <form (submit)="onSubmit()">
      <div class="form-group">
        <label for="nombres">Nombre(s)</label>
        <input type="text" id="nombres" [(ngModel)]="empleado.nombres" name="nombres" required>
      </div>
      
      <div class="form-group">
        <label for="apellidos">Apellidos</label>
        <input type="text" id="apellidos" [(ngModel)]="empleado.apellidos" name="apellidos" required>
      </div>

      <div class="form-group">
        <label for="direccion">Dirección</label>
        <input type="text" id="direccion" [(ngModel)]="empleado.direccion" name="direccion">
      </div>

      <div class="form-group">
        <label for="telefono">Teléfono</label>
        <input type="text" id="telefono" [(ngModel)]="empleado.telefono" name="telefono" required>
      </div>

      <div class="form-group">
        <label for="salario">Salario</label>
        <input type="number" id="salario" [(ngModel)]="empleado.salario" name="salario" required>
      </div>

      <div class="form-group">
        <label for="estado">Estado</label>
        <select id="estado" [(ngModel)]="empleado.estado" name="estado" required>
          <option value="Fuera de nomina">Fuera de nomina</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">Guardar Cambios</button>
      <button type="button" class="btn btn-secondary" (click)="resetEmpleadoForm()">Cancelar</button>
    </form>
  </div>

  <div class="table-container">
    <h2>Lista de Empleados</h2>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre(s)</th>
          <th>Apellidos</th>
          <th>Dirección</th>
          <th>Teléfono</th>
          <th>Salario</th>
          <th>Fecha Contratación</th>
          <th>Estado</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let emp of empleados">
          <td>{{ emp.id_empleado }}</td>
          <td>{{ emp.nombres }}</td>
          <td>{{ emp.apellidos }}</td>
          <td>{{ emp.direccion }}</td>
          <td>{{ emp.telefono }}</td>
          <td>{{ emp.salario }}</td>
          <td>{{ emp.fechaContratacion | date }}</td>
          <td>{{ emp.estado }}</td>
          <td>
            <button (click)="editEmpleado(emp)">Editar</button>
            <button (click)="deleteEmpleado(emp.id_empleado)">Eliminar</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
